# Руководство по развертыванию

Это руководство описывает процесс развертывания проекта Notio в production-среде.

## Предварительные требования

- Установленный Docker и Docker Compose
- Доступ к серверу с правами администратора
- Настроенные DNS-записи для доменов
- Секреты для деплоя (например, SSH-ключи, учетные данные для реестра контейнеров)

## Шаги развертывания

1. **Клонирование репозитория**

   Подключитесь к серверу и клонируйте репозиторий:
   ```bash
   git clone https://github.com/yourusername/notio.git
   cd notio
   ```

2. **Настройка переменных окружения**

   Скопируйте файл `.env.example` в `.env` и отредактируйте значения:
   ```bash
   cp .env.example .env
   nano .env
   ```

3. **Запуск контейнеров**

   Запустите контейнеры с помощью Docker Compose:
   ```bash
   docker-compose -f docker-compose.prod.yml up -d
   ```

4. **Проверка состояния**

   Убедитесь, что все сервисы работают корректно:
   ```bash
   docker-compose ps
   ```

5. **Настройка Traefik**

   Убедитесь, что Traefik настроен правильно и SSL-сертификаты получены:
   ```bash
   docker-compose logs traefik
   ```

6. **Мониторинг и алертинг**

   Настройте мониторинг и алертинг через Grafana и Prometheus. Доступ к Grafana можно получить по адресу `https://grafana.yourdomain.com`.

7. **Резервное копирование**

   Убедитесь, что скрипты резервного копирования настроены и работают корректно. Логи можно проверить в `/var/log/backup.log`.

## Обновление

Для обновления проекта выполните следующие шаги:

1. **Обновление репозитория**

   Перейдите в директорию проекта и выполните:
   ```bash
   git pull origin main
   ```

2. **Перезапуск контейнеров**

   Перезапустите контейнеры для применения обновлений:
   ```bash
   docker-compose -f docker-compose.prod.yml up -d
   ```

## Лицензия

Этот проект лицензирован под MIT License. Подробности в файле LICENSE. 